language: ruby
env:
  matrix:
  - DOCKER_COMPOSE_VERSION=1.24.1
  global:
  - secure: e3txOAgsvLJcHmsdGUrajbQP2KOPv1EQM4zi/ZyBLhTuoaAudsc6zWLRM0sU5zzXmwRtxY5QJK3SXXcukca3oeltQSBvDfNkUn61blsj13gWO+XlELs5o4oquzT3ljuB5YQZAYGnQRlc8tcH4ilEoTtIzrX0WJFI+6W8tnWgzE0eAkxpfDEF7ja44l8BKLsY0dbrW3+r5hB760nAbrxtyVupoVgmP1HTkZzY83613E/4ntWf01lFPCcPhSiqCRg95d8tF1+01xtUNTUEGY/6nhvNAX8iiHiWgVWybdEW+0jBnqHArWeGLgeWAr1jPjoBkl20KaBaEfC7WuIYQIGtOXME65GhJw544HZRFBCF3UGptbI7VjygjD6JPI9xatnSh1y2ctwhAv9p3lBeKZUr1GACnwlGRbfJP1pYSz+zw/L5G3MY6Z71sm+QwRyFrnVVWHCbHZ/aWxhTSi4cd/6wpKDzptGh7qKto2S6PfUjzBTi/krMYmZZHqMcdPZxh+Bqpjc29+D1/60m51RdOkX53/Rc3zup+HZTVGZPrEfH+pfWM0+WBf2EwvJHSJZQSeU24pCkG99CqnLc3RgzXei+WFh4Lzl4Dgz7eHoAjlu/jlzZUquyjwJ4xaFAT/pS88IFgVVr4+OnZygufEO5z6il0/XqgO7auz4l0UtMjjTxW40=
  - secure: K5iMoRdt33+HLmPI9QosIqrMJLXuS1RC5ng9cPTcIeydlvvvI/gn+2qqkLKPNl60UZltQSwctTrjvAVCQJaV5u+tbL40M+93gryPmsgdIlW9zbdecqKwJlwsHzgdJIehVvmS6yoSEg+SEtAXBzhiiB5p5dsjPdcfgZ5lsHOgELzryCA+kI7PmlcaQ12fthivF1HEzidvNePuWS7wEKHEwg9rwL2Yp/V2V1TNke19w4gtfi12otpmXCCHW5qkYMd+75DvsHFuiCnZxQaFztUbWwpVgPHT2s6ofJNaBuiwDlf0z/sG99CCV6dsX1qv4ujA8AlGf9tnmsG23EBc1kZZ6KIqVZcKU4HQ2SxpOzSNAqcU9kFeS7HzIg3pp3LuygEHfytzTvg9S0HSJ0BdKYWHupZO72vXdd6fPMLShZB+HPhVQO7F1Puwnde5ngHzL1yFwQl1eXDrBL+S84uPx6DsWGRekB4mb+b2w8eAX5nlbzIIcVEoNQ5NdO2v7J+wsi7FJb3+3ngDhh5Mgk0EdIPS+HjwKOZw6Lh4IYyT9b6WIRK2TOCYOd8ZK2PNPwKlT7c3n4Uq/WV+mzXPk4thFeoiDOc7MEMch0Ur6STd/YO0EOOEMyjo9jrAb1pTZ5/iJq3UGCm01xe6B+BZqqlZFP5uvgZU4EEsMdU9YToL5qxntrc=
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
install:
- docker-compose build
before_script:
- docker-compose up -d
- sleep 10
- docker ps -a
cache:
  directories:
  - node_modules
script:
- curl localhost
after_script:
- docker-compose down
deploy:
  provider: elasticbeanstalk
  access_key_id:
    secure: eRBRS3W7qcsxrGYwov8hKJexbd217H8WOZ+jAASTz/TZ8FLux8irlBvFC/OGsc2rLUM9klW9JsetYF/Jv1A0F5kU06uA3vx+XFRo6p0hSOLPFaIBEman/WNtyYc85txk6VG1qh/B7HasxnwbytzN/UytM2srIPzjmprgLZYBGDvfCvoFdXgpTW4e23jqP3mT/BkXTbJblN37ckPxd1vpESGkrHUVMTXTgxppkjbuiXXo8qUoxwc+Jx/29B9jgyBH4byDJ0VbVrvbOrNIS9NJJCkKhmM/XWfl4RtKDct0KVymJzp9LwWzd5laYz5YSCQGzC/81qHpsyDgTQlCNA61F5JQtGTqSqSKXxOQON0YoaRMamU0SzzGUlYlnGq0GhfKDB6Lswn1oUcrqQ7xNQgQdoqTgUNuOd4Sb9mMvL8/op+1YHqjBha7lGwnP2amYXS3L8a4FFKSlDonPzpvA+U5EEElRlo7joohV+6MMksIuxXbKqt7v2wpbQ0On123QpqNhF0vh6+lyZ2G7yWVS9eCA0opSIOTarpMxkfA68mm+N9C7kJwZrEbEs0tqi+DOOKre6c06767VSgGUIQi+Kh+dkxiC9/vPiGll0ele/iWYKQEXmTohHUZYfGPUVNJV/DJ7J1Mc6Wk6k1GZlNRbaZ1tpjLQwDD/52IL+i+k7QPDis=
  secret_access_key:
    secure: 2WxDjkb5dY9k94XcZT4o/N3dG6WBhna5GfFwBnFFG9s34t5cCnJjDSXQYIgo/SQ0CiMJZDGuA02mGWHtB5uGTdyXJFUiLh0lGrguDAvPwG+uFwZ/Y69yGM5AnYjQs31VklLPlyQ1OLwTyNvsNQhwV9vLICacV/EA2oTgsTjH/g5lC/v3CfAdsp5WuBYU+eePfJTJFnPjsH3Vs7ljxArLZFL6LlMFMTDfz2Knuhh4wQD5nq68/BxPyhfS4Of0zMlTFo+8uqkpUoooZYEayUSPh3577tj5WIotmDNO4Rhf/8a2K678vVWN4XoBMlY4lKtRBjpJDOmCnGifyiWiNNjrKUzo1vRJYd/UyyJhueCewHQLaCTkNDt2CvlO2OU8FDNMcws3SlpRWwaknmkw5tQZnuSV5UsyVEZVV5l2FKi6NpLGK36LqmAajpHXR8rpMt2qpmdXKK8Tox/m9ICuVBEHUsLIYypJv4phm+moTqT18z9Fas6wimJXnuqHFOw3snI27JPYtCkE3PQl8bf7tdNEXhXcN1pjiw6lnI4Z9XyByvuS3E8unJPzcNqwvZmj3/EXuqGMdagnSlP2p8frG3HYc7hGIvaYhr6FnCg+ilRWiC47t4f7JqDKJMQ0mZC1uvj1qPT3S+W1iSVneopjg0VZMnqCWF0vVBK4gBtoYMduFUA=
  region: us-east-1
  app: Alli
  env: Alli-env
  bucket_name: elasticbeanstalk-us-east-1-559807477146
  on:
    repo: darden-alli/alli
